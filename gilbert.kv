<MenuScreen@Screen>
    BoxLayout:
        id: menu_screen_layout
        orientation: "vertical"
        MenuScreenButton:
            text: "Study"
            on_press:
                # You can define the duration of the change
                # and the direction of the slide
                root.manager.transition.direction = 'left'
                root.manager.transition.duration = .3
                root.manager.previous = 'menu_screen'
                root.manager.current = 'study_screen'
        MenuScreenButton:
            text: "Quiz"
            on_press:
                # You can define the duration of the change
                # and the direction of the slide
                root.manager.transition.direction = 'left'
                root.manager.transition.duration = .3
                root.manager.previous = 'menu_screen'
                root.manager.current = 'quiz_screen'
        MenuScreenButton:
            text: "Simulador Ω"
            on_press:
                # You can define the duration of the change
                # and the direction of the slide
                root.manager.transition.direction = 'left'
                root.manager.transition.duration = .3
                root.manager.previous = 'menu_screen'
                root.manager.current = 'ohm_screen'
        MenuScreenButton:
            text: "About"
            on_press:
                # You can define the duration of the change
                # and the direction of the slide
                root.manager.transition.direction = 'left'
                root.manager.transition.duration = .3
                root.manager.previous = 'menu_screen'
                root.manager.current = 'about_screen'
        SettingsButton

<StudyScreen@Screen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "This is the Study screen"
        BackToMenuButton

<QuizScreen@Screen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "This is the Quiz Screen"
        BackToMenuButton

<OhmScreen@Screen>:
    FloatLayout:
        Label:
            text: "Simulador de la ley de Ohm"
            pos_hint: {"x":0.5, "top":1}
            size_hint: 0.1,0.5
        BackToMenuButton
            pos_hint: {"left":0, "bottom":1}
            size_hint: 0.1, 0.1
        Label:
            text: "Simulador de la ley de Ohm"
            pos_hint: {"x":0.5, "top":1}
            size_hint: 0.1,0.5
        GridLayout:
            rows: 4
            cols: 3
            pos_hint: {"center_x":0.5, "bottom":0}
            size_hint: 0.5,0.7
            # Activate/de-activate buttons.
            ToggleButton:
                id: toggle_button_current
                text: "Calcular\namperage"
                group: "togglebuttons"
                allow_no_selection: False
                size_hint: 0.1, 0.1
                state: 'down'
                on_release:
                    current_slider.disabled = not current_slider.disabled
                    voltage_slider.disabled = not voltage_slider.disabled
                    resistance_slider.disabled = not resistance_slider.disabled
            ToggleButton:
                id: toggle_button_voltage
                text: "Calcular\nvoltage"
                group: "togglebuttons"
                allow_no_selection: False
                size_hint: 0.1, 0.1
                on_release:
                    current_slider.disabled = not current_slider.disabled
                    voltage_slider.disabled = not voltage_slider.disabled
                    resistance_slider.disabled = not resistance_slider.disabled
            ToggleButton:
                id: toggle_button_resistance
                text: "Calcular\nresistencia"
                group: "togglebuttons"
                allow_no_selection: False
                size_hint: 0.1, 0.1
                on_release:
                    current_slider.disabled = not current_slider.disabled
                    voltage_slider.disabled = not voltage_slider.disabled
                    resistance_slider.disabled = not resistance_slider.disabled
            # Show the current value of the sliders in labels.
            Label:
                id: current_label
                text: str(round(current_slider.value, 2)) + " mA"
                #text: str(round((voltage_slider.value / resistance_slider.value) * 1000, 2)) + " mA"
                size_hint: 0.1, 0.1
            Label:
                id: voltage_label
                text: str(round(voltage_slider.value, 2)) + " V"
                size_hint: 0.1, 0.1
            Label:
                id: resistance_label
                text: str(round(resistance_slider.value, 2)) + " Ohms"
                size_hint: 0.1, 0.1
            # Sliders
            Slider:
                id: current_slider
                min: 0.1
                max: 900
                step: 0.1
                orientation: 'vertical'
                pos_hint: {"x":0.5, "top":0.3}
                size_hint: 0.1, 0.6
                value: (voltage_slider.value / resistance_slider.value) * 1000
            Slider:
                id: voltage_slider
                min: 0.1
                max: 9
                step: 0.1
                orientation: 'vertical'
                pos_hint: {"x":0.7, "top":0.3}
                size_hint: 0.1, 0.6
                #value: current_slider.value * resistance_slider.value
            Slider:
                id: resistance_slider
                min: 10
                max: 1000
                step: 0.1
                orientation: 'vertical'
                pos_hint: {"x":0.3, "top":0.3}
                size_hint: 0.1, 0.6
                #value: voltage_slider.value / current_slider.value
            # Informative labels.
            Label:
                text: "Amperage"
                size_hint: 0.1, 0.1
            Label:
                text: "Voltage"
                size_hint: 0.1, 0.1
            Label:
                text: "Resistencia"
                size_hint: 0.1, 0.1
        ResetOhmButton
            font_size: self.font_size
            pos_hint: {"right":1, "bottom":1}
            size_hint: 0.1, 0.1
            on_press:
                voltage_slider.value = voltage_slider.min
                resistance_slider.value = resistance_slider.min
            BoxLayout:
                pos: self.parent.pos
                size: self.parent.size
                orientation: 'vertical'
                Image:
                    source: 'icons/ic_settings_backup_restore_white_48dp.png'
                    size_hint_x: None
                    width: 100
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                Label:
                    text: "Reset"

<AboutScreen@Screen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Made by: Alan Verdugo Muñoz\nIcons: Material design by Google"
        BackToMenuButton

<MenuScreenButton@Button>
    # Yellow text color:
    color: 1,1,0,1
    # Purple background color:
    background_color: 0.41,0.05,0.67,1
    font_size: 40
    text: self.text

<SettingsButton@MenuScreenButton>
    font_size: self.font_size
    on_release: app.open_settings()
    BoxLayout:
        pos: self.parent.pos
        size: self.parent.size
        orientation: 'vertical'
        Image:
            source: 'icons/ic_settings_applications_white_48dp.png'
            size_hint_x: None
            width: 100
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        Label:
            text: "Configuración"

<BackToMenuButton>
    font_size: self.font_size
    on_press:
        app.screen_manager.transition.direction = 'right'
        app.screen_manager.transition.duration = .3
        app.screen_manager.current = 'menu_screen'
    BoxLayout:
        pos: self.parent.pos
        size: self.parent.size
        orientation: 'vertical'
        Image:
            source: 'icons/ic_home_white_48dp.png'
            size_hint_x: None
            width: 100
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        Label:
            text: "Menu"
